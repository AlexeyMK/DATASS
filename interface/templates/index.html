<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Ajax with Flask and CoffeeScript</title>

        <!-- embed jQuery -->
        <script type="text/javascript" src="/static/jquery-1.7.1.js"></script>

        <!-- embed the compiled example.coffee -->
        <script type="text/javascript" src="/static/example.js"></script>
        
    </head
        >
    <body>
        
        <!-- number input -->
        <p>
            <input type="text" name="a" /> +
            <input type="text" name="b" /> =
            

<form id="key_form" method="GET">
  <p>Press A or S</p> 
  <input type="text" id="xxx" name="key" value="">
</form>
        
            
<form>
  <fieldset>
    <label for="target">Type Something:</label>
    <input id="target" type="text" />
  </fieldset>
</form>
            
            <!-- result from AJAX will go here -->
            <span id="result">?</span>
        </p>
        
        <p>
            <!-- hyperlink which will be binded to make the GET call -->
            <a href="#" id="classify">Classify via AJAX</a>
        </p>
        
        
        
<script src="http://api.jquery.com/resources/events.js"></script>

        
<script>

var xTriggered = 0;
$("#target").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();
    }
    xTriggered++;
    var msg = "Handler for .keypress() called " + xTriggered + " time(s).";
    var sentence = document.getElementById('target').value
    $.print(sentence, "html")
    
    $.getJSON( $SCRIPT_ROOT + '/_classify_sentiment',
                {input_text: 'testing...'},
                function(data) { $("#result").text(data.result); }
    );
    
    $.getJSON(  $SCRIPT_ROOT + '/_classify_sentiment',
                { input_text: $('input[name="target"]').val(),},
                function(data) { $("#result").text(data.result); }
    );
    $.print("here", "html")

    
    
});
 
$("#other").click(function() {
  $("#target").keypress();
});



</script>
        
        
    </body>
</html>
